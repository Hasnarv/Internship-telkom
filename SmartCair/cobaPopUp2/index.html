<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="style.css">

    <title>Responsive Modal Popup</title>
</head>

<body>
    <button class="modal-open" data-id="demo-modal">Display Modal</button>
    <div id="demo-modal" class="modal" role="dialog" tabindex="-1">
        <div class="model-inner">
            <button class="modal-close" data-id="demo-modal" aria-label="Close">
                &times;
            </button>
            <div class="pop">
                <img src="../img/icon_pindah kompetitor.png">
                <div class="text">
                    <div class="modal-header">
                        <h3>MAAF!</h3>
                    </div>
                    <p> Anda belum melakukan presensi. Silahkan melakukan presensi !</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let modal;
        document.addEventListener("click", (e) => {
            if (e.target.className === "modal-open") {
                modal = document.getElementById(e.target.dataset.id);
                openModal(modal);
            } else if (e.target.className === "modal-close") {
                closeModal(modal);
            } else {
                return;
            }
        });
        const openModal = (modal) => {
            document.body.style.overflow = "hidden";
            modal.setAttribute("open", "true");
            document.addEventListener("keydown", escClose);
            let overlay = document.createElement("div");
            overlay.id = "modal-overlay";
            document.body.appendChild(overlay);
        };
        const closeModal = (modal) => {
            document.body.style.overflow = "auto";
            modal.removeAttribute("open");
            document.removeEventListener("keydown", escClose);
            document.body.removeChild(document.getElementById("modal-overlay"));
        };
        const escClose = (e) => {
            if (e.keyCode == 27) {
                closeModal();
            }
        };
    </script>
</body>

</html>